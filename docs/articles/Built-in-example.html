<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Built-in example • ProcessSpace</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Built-in example">
<meta property="og:description" content="ProcessSpace">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ProcessSpace</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.033</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Built-in-example.html">Built-in example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/adamkc/ProcessSpace/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Built-in example</h1>
                        <h4 class="author">Adam Cummings</h4>
            
            <h4 class="date">6/9/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/adamkc/ProcessSpace/blob/master/vignettes/Built-in-example.Rmd"><code>vignettes/Built-in-example.Rmd</code></a></small>
      <div class="hidden name"><code>Built-in-example.Rmd</code></div>

    </div>

    
    
<div id="example-processspace-tool-application" class="section level1">
<h1 class="hasAnchor">
<a href="#example-processspace-tool-application" class="anchor"></a>Example ProcessSpace tool application</h1>
<div id="load-the-required-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#load-the-required-packages" class="anchor"></a>Load the required packages:</h2>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co">#devtools::install_github("adamkc/ProcessSpace")</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span>({
  <span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ProcessSpace</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggmap</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">raster</span>)
})</pre></body></html></div>
</div>
<div id="load-the-data-files-and-check-them" class="section level2">
<h2 class="hasAnchor">
<a href="#load-the-data-files-and-check-them" class="anchor"></a>Load the Data files and check them</h2>
<p>These are generic files that are provided with the <code>ProcessSpace</code> package. You’ll need to supply your own raster DEM and streamline shapefile eventually.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">rasterFilePath</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"external/raster.tif"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"ProcessSpace"</span>)
<span class="no">streamShapefilePath</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"external/streams.shp"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"ProcessSpace"</span>)
<span class="no">streams</span> <span class="kw">&lt;-</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_read.html">read_sf</a></span>(<span class="no">streamShapefilePath</span>)</pre></body></html></div>
<p>And now lets plot the raster hillshade. It takes a little time to calculate the hillshade values. This step isn’t necessary for running the <code>ProcessSpace</code> tool.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">r</span> <span class="kw">&lt;-</span> <span class="kw pkg">raster</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span>(<span class="no">rasterFilePath</span>)
<span class="no">s</span> <span class="kw">&lt;-</span> <span class="kw pkg">raster</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/terrain.html">terrain</a></span>(<span class="no">r</span>, <span class="kw">opt</span><span class="kw">=</span><span class="st">"slope"</span>)
<span class="no">a</span> <span class="kw">&lt;-</span> <span class="kw pkg">raster</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/terrain.html">terrain</a></span>(<span class="no">r</span>, <span class="kw">opt</span><span class="kw">=</span><span class="st">"aspect"</span>)
<span class="no">h</span> <span class="kw">&lt;-</span> <span class="kw pkg">raster</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/hillShade.html">hillShade</a></span>(<span class="no">s</span>,<span class="no">a</span>)
<span class="no">rasterPlot</span> <span class="kw">&lt;-</span> <span class="no">h</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/raster/man/rasterToPoints.html">rasterToPoints</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu">ggplot</span>() + <span class="fu">geom_raster</span>(<span class="fu">aes</span>(<span class="kw">x</span><span class="kw">=</span><span class="no">x</span>,<span class="kw">y</span><span class="kw">=</span><span class="no">y</span>,<span class="kw">fill</span><span class="kw">=</span><span class="no">layer</span>),
                       <span class="kw">show.legend</span> <span class="kw">=</span> <span class="fl">FALSE</span>) +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">streams</span>) +
  <span class="fu">geom_sf_label</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">streams</span>,<span class="fu">aes</span>(<span class="kw">label</span><span class="kw">=</span><span class="no">LINKNO</span>),<span class="kw">size</span><span class="kw">=</span><span class="fl">3</span>,
                <span class="kw">label.padding</span><span class="kw">=</span><span class="fu">unit</span>(<span class="fl">.1</span>,<span class="st">"lines"</span>)) +
  <span class="fu">scale_fill_viridis_c</span>() + <span class="fu">theme_minimal</span>()

<span class="no">rasterPlot</span></pre></body></html></div>
<p><img src="Built-in-example_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>Let’s imagine we are interested in knowing more about stream segments <em>12</em> and <em>20</em>. It doesn’t matter how we select these two segments as long as they’re all we feed to the <code>*ProcessSpace*</code> functions. In this case, we’ll use the <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter</a></code> function to create a new object, selecting using the <em>LINKNO</em> field. But you could do a spatial filter or any number of other filter methods. Your streamfile may not have a LINKNO attribute, in which case you can use the unique identifier column for your particular dataset.</p>
<p>Let’s pull those two aside and confirm we grabbed the right ones by plotting the results. We’ll highlight the two segments we selected in blue. The <code>ProcessSpace</code> tool currently can’t handle branching stream structures so we need to be careful here to only grab one flow path, without missing segments in the middle.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">targetStream</span> <span class="kw">&lt;-</span> <span class="no">streams</span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">LINKNO</span> <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">12</span>,<span class="fl">20</span>))
<span class="co">#Check that you grabbed the right streams:</span>
<span class="fu">ggplot</span>(<span class="no">streams</span>) + <span class="fu">geom_sf</span>() +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">targetStream</span>,<span class="kw">col</span><span class="kw">=</span><span class="st">"blue4"</span>,<span class="kw">size</span><span class="kw">=</span><span class="fl">3</span>,<span class="kw">alpha</span><span class="kw">=</span><span class="fl">.6</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/theme_nothing.html">theme_nothing</a></span>()</pre></body></html></div>
<p><img src="Built-in-example_files/figure-html/unnamed-chunk-4-1.png" width="384"></p>
<p>Great. We clearly grabbed the correct segments.</p>
</div>
<div id="lets-run-it-through-the-tool" class="section level2">
<h2 class="hasAnchor">
<a href="#lets-run-it-through-the-tool" class="anchor"></a>Lets run it through the tool!</h2>
<div id="first-generate-the-cross-sections" class="section level3">
<h3 class="hasAnchor">
<a href="#first-generate-the-cross-sections" class="anchor"></a>First, generate the cross sections:</h3>
<p>This places evenly spaced points along the selected stream file at the interval selected. Then it draws semi-perpendicular cross sections at each point at for the length given. You need to indicate the general flow direction of the stream by indicating which direction the stream is flowing from, using the argument <code>cut1Dir</code>. For example, if the stream flows West to East provide “W”, if it flows North to East provide “N”. The cross sections are produced without access to a raster file, so the package cannot just look to determine flow direction.</p>
<p>If you’ve linked the <code>ggmap</code> package to a Google Cloud Platform account, this function will return a satellite image of the location being analyzed. If you haven’t linked an account, it will return a topographic map.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">transectObject</span> <span class="kw">&lt;-</span> <span class="no">targetStream</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/generateCrossSections.html">generateCrossSections</a></span>(<span class="kw">xSectionDensity</span> <span class="kw">=</span> <span class="kw pkg">units</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/as_units.html">as_units</a></span>(<span class="fl">50</span>,<span class="st">"m"</span>),
                        <span class="kw">googleZoom</span><span class="kw">=</span><span class="fl">16</span>,
                        <span class="kw">xSectionLength</span> <span class="kw">=</span> <span class="kw pkg">units</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/as_units.html">as_units</a></span>(<span class="fl">100</span>,<span class="st">"m"</span>),
                        <span class="kw">cut1Dir</span> <span class="kw">=</span> <span class="st">"W"</span>)</pre></body></html></div>
<pre><code>## Realigning stream upstream to downstream. -- Completed in 0.04 mins.</code></pre>
<p>We can peek into the <code>transectObject</code> that is returned by this function. It should be a list with 8 named entries (<code>mainLine</code>, <code>leftSide</code>, <code>rightSide</code>, <code>ls0</code>, <code>rs0</code>, <code>plotBbox</code>, <code>satImage</code>, and <code>sampledPoints</code>). We stop the process here with our generated cross sections to be used for another purpose. Or we can proceed to additional <code>*ProcessSpace*</code> functions.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">transectObject</span>$<span class="no">satImage</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span>() +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">transectObject</span>$<span class="no">mainLine</span> <span class="kw">%&gt;%</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fl">4326</span>),
          <span class="kw">col</span><span class="kw">=</span><span class="st">"blue4"</span>,<span class="kw">alpha</span><span class="kw">=</span><span class="fl">.5</span>,<span class="kw">size</span><span class="kw">=</span><span class="fl">2</span>,<span class="kw">inherit.aes</span> <span class="kw">=</span> <span class="fl">FALSE</span>) +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">transectObject</span>$<span class="no">ls0</span> <span class="kw">%&gt;%</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fl">4326</span>),
          <span class="kw">inherit.aes</span> <span class="kw">=</span> <span class="fl">FALSE</span>) +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">transectObject</span>$<span class="no">rs0</span> <span class="kw">%&gt;%</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fl">4326</span>),
          <span class="kw">col</span><span class="kw">=</span><span class="st">"blue"</span>,<span class="kw">inherit.aes</span> <span class="kw">=</span> <span class="fl">FALSE</span>) +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">transectObject</span>$<span class="no">leftSide</span> <span class="kw">%&gt;%</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fl">4326</span>),<span class="kw">inherit.aes</span> <span class="kw">=</span> <span class="fl">FALSE</span>) +
  <span class="fu">geom_sf</span>(<span class="kw">data</span><span class="kw">=</span><span class="no">transectObject</span>$<span class="no">rightSide</span> <span class="kw">%&gt;%</span> <span class="kw pkg">sf</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fl">4326</span>),
          <span class="kw">col</span><span class="kw">=</span><span class="st">"blue"</span>,<span class="kw">inherit.aes</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<p><img src="Built-in-example_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div id="second-run-it-through-a-series-of-manipulations" class="section level3">
<h3 class="hasAnchor">
<a href="#second-run-it-through-a-series-of-manipulations" class="anchor"></a>Second, run it through a series of manipulations:</h3>
<p>The <code>ProcessSpace</code> package uses ten or so functions to work through the analysis. They can be run one at a time, like in the commented code below. Or the function <code>allAtOnce</code> runs them … all at once…</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="co">##Long and version:</span>

<span class="co"># transectObject &lt;- transectObject %&gt;%</span>
<span class="co">#   addTopoLines(rasterDir = rasterFilePath) %&gt;%</span>
<span class="co">#   addStreamChannels(rasterDir = rasterFilePath,streamDir = streamShapefilePath) %&gt;%</span>
<span class="co">#   addCrossSectionElevations(rasterDir = rasterFilePath) %&gt;%</span>
<span class="co">#   addProcessSpace() %&gt;%</span>
<span class="co">#   buildXSectionPlot(plotFileName = "exampleOutput.pdf",streamDir = streamShapefilePath) %&gt;%</span>
<span class="co">#   rasterPlotter(rasterDir = rasterFilePath)</span>

<span class="co">## Short and version:</span>

<span class="no">transectObject</span> <span class="kw">&lt;-</span> <span class="no">transectObject</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/allAtOnce.html">allAtOnce</a></span>(<span class="kw">outputFilename</span> <span class="kw">=</span> <span class="st">"exampleOutput.pdf"</span>,
                             <span class="kw">rasterDir</span> <span class="kw">=</span> <span class="no">rasterFilePath</span>,
                             <span class="kw">verticalCutoff</span><span class="kw">=</span><span class="fl">8</span>,
                             <span class="kw">streamDir</span> <span class="kw">=</span> <span class="no">streamShapefilePath</span>,
                             <span class="kw">returnObject</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                             <span class="kw">doExportSpatial</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<pre><code>## Adding TopoLines -- Completed in 0.02 mins.
## Extracting Cross Section Elevations -- Completed in 0.05 mins.
## Calculating Process Space Polygons -- Completed in 0.08 mins.
## Generating Map Plot -- Completed in 0 mins.</code></pre>
<pre><code>## Generating Detrended Elevation Raster[inverse distance weighted interpolation]
##  -- Completed in 0.11 mins.</code></pre>
</div>
<div id="then-export-the-results-as-a-comprehensive-kmz-file" class="section level3">
<h3 class="hasAnchor">
<a href="#then-export-the-results-as-a-comprehensive-kmz-file" class="anchor"></a>Then export the results as a comprehensive KMZ file:</h3>
<p>This produces a KMZ file that contains the cross section plots imbedded. Clicking the points along the stream file pull up the cross section plots. This can also be produced with the <code>allAtOnce</code> function by passing the <code>doExportSpatial = TRUE</code> argument. Producing the ggplot files for each transect can be time consuming (~1 second per plot).</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/exportSpatials.html">exportSpatials</a></span>(<span class="no">transectObject</span>,<span class="kw">sectionName</span> <span class="kw">=</span> <span class="st">"exampleOutput"</span>)</pre></body></html></div>
<pre><code>## Writing kml to:
## exampleOutput.kml
## There are 24 ggplots being generated.
## 24,</code></pre>
<pre><code>## 23,</code></pre>
<pre><code>## 22,</code></pre>
<pre><code>## 21,</code></pre>
<pre><code>## 20,</code></pre>
<pre><code>## 19,</code></pre>
<pre><code>## 18,</code></pre>
<pre><code>## 17,</code></pre>
<pre><code>## 16,</code></pre>
<pre><code>## 15,</code></pre>
<pre><code>## 14,</code></pre>
<pre><code>## 13,</code></pre>
<pre><code>## 12,</code></pre>
<pre><code>## 11,</code></pre>
<pre><code>## 10,</code></pre>
<pre><code>## 9,</code></pre>
<pre><code>## 8,</code></pre>
<pre><code>## 7,</code></pre>
<pre><code>## 6,</code></pre>
<pre><code>## 5,</code></pre>
<pre><code>## 4,</code></pre>
<pre><code>## 3,</code></pre>
<pre><code>## 2,</code></pre>
<pre><code>## 1,</code></pre>
</div>
<div id="heres-what-the-detrended-raster-and-a-single-cross-section-plot-can-look-like" class="section level3">
<h3 class="hasAnchor">
<a href="#heres-what-the-detrended-raster-and-a-single-cross-section-plot-can-look-like" class="anchor"></a>Here’s what the detrended raster and a single cross section plot can look like:</h3>
<p>Regions of the map with lower elevations than the stream are green, regions similar in elevation to the stream are blue, and regions higher than the stream elevation go from red to tan.</p>
<div class="sourceCode" id="cb36"><html><body><pre class="r"><span class="no">legend</span> <span class="kw">&lt;-</span> <span class="kw pkg">magick</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span>(<span class="st">"exampleOutput_El_legend.png"</span>)
<span class="no">detrend</span> <span class="kw">&lt;-</span> <span class="kw pkg">magick</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span>(<span class="st">"exampleOutput_El.png"</span>)
<span class="kw pkg">magick</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/animation.html">image_mosaic</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw pkg">magick</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/color.html">image_background</a></span>(<span class="no">detrend</span>,<span class="st">"grey"</span>),<span class="no">legend</span>))</pre></body></html></div>
<p><img src="Built-in-example_files/figure-html/unnamed-chunk-9-1.png" width="574"></p>
<p>Cross section look like this. They are plotted as though you’re looking upstream (which comes naturally when the raster and cross sections are viewed 3D in Google Earth.) The blue and green bands show elevations within 1ft and 2ft of the stream channel. This particular transect shows the stream is captured by a highly incised channel and the terrain slopes downhill in either perpendicular direction from the stream path. Perhaps this is not a natural flow path?</p>
<div class="sourceCode" id="cb37"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span>(<span class="kw pkg">magick</span><span class="kw ns">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span>(<span class="st">"exampleOutput-Images/Transect_5_temp_.png"</span>))</pre></body></html></div>
<p><img src="Built-in-example_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Adam Cummings.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
